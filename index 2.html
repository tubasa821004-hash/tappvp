<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Idle Tap Battle Gacha</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(to bottom, #0f0f0f, #1a1a1a);
  color: white;
  text-align: center;
  overflow-x: hidden;
}
h1 { margin-top: 20px; }

.bar {
  width: 80%;
  height: 20px;
  background: #444;
  margin: 10px auto;
  border-radius: 10px;
}
.fill {
  height: 100%;
  background: lime;
  border-radius: 10px;
}
.enemyFill { background: red; }

button {
  margin: 8px;
  padding: 12px 18px;
  font-size: 14px;
  border: none;
  border-radius: 12px;
  background: orange;
  color: black;
}

.gold {
  font-size: 18px;
  margin-top: 10px;
}

.damage {
  position: absolute;
  color: yellow;
  font-weight: bold;
  animation: floatUp 1s ease-out forwards;
}

@keyframes floatUp {
  0% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-40px); }
}

.weapon {
  margin-top: 10px;
  font-size: 16px;
}
</style>
</head>
<body>

<h1>âš” Idle Tap Battle âš”</h1>

<div class="gold">ğŸ’° ã‚´ãƒ¼ãƒ«ãƒ‰: <span id="gold">0</span></div>
<div class="weapon">ğŸ—¡ æ­¦å™¨: <span id="weapon">ãªã—</span></div>

<p>æ•µ HP</p>
<div class="bar"><div id="enemyHP" class="fill enemyFill"></div></div>

<p id="level">ãƒ¬ãƒ™ãƒ«: 1</p>

<button onclick="attack()">ğŸ‘Š ã‚¿ãƒƒãƒ—æ”»æ’ƒ</button>
<button onclick="buyAuto()">ğŸ¤– è‡ªå‹•æ”»æ’ƒLvUP (50G)</button>
<button onclick="gacha()">ğŸ° ã‚¬ãƒãƒ£ (100G)</button>

<script>
let enemyMax = 100;
let enemyHP = 100;
let level = 1;
let gold = 0;
let autoLevel = 0;
let weaponPower = 0;
let weaponName = "ãªã—";

function updateUI() {
  document.getElementById("enemyHP").style.width = (enemyHP/enemyMax*100) + "%";
  document.getElementById("gold").innerText = gold;
  document.getElementById("level").innerText = "ãƒ¬ãƒ™ãƒ«: " + level;
  document.getElementById("weapon").innerText = weaponName;
}

function showDamage(dmg) {
  let el = document.createElement("div");
  el.className = "damage";
  el.innerText = "-" + dmg;
  el.style.left = (window.innerWidth/2 + Math.random()*100 - 50) + "px";
  el.style.top = "200px";
  document.body.appendChild(el);
  setTimeout(() => el.remove(), 1000);
}

function attack() {
  let base = Math.floor(Math.random()*15)+5;
  let damage = base + weaponPower;
  enemyHP -= damage;
  showDamage(damage);

  if(enemyHP <= 0){
    level++;
    gold += 30;
    enemyMax += 40;
    enemyHP = enemyMax;
  }
  updateUI();
}

function autoAttack(){
  if(autoLevel > 0){
    let damage = autoLevel * 2 + weaponPower;
    enemyHP -= damage;
    showDamage(damage);

    if(enemyHP <= 0){
      level++;
      gold += 30;
      enemyMax += 40;
      enemyHP = enemyMax;
    }
    updateUI();
  }
}

function buyAuto(){
  if(gold >= 50){
    gold -= 50;
    autoLevel++;
    updateUI();
  } else {
    alert("ã‚´ãƒ¼ãƒ«ãƒ‰ä¸è¶³ï¼");
  }
}

function gacha(){
  if(gold < 100){
    alert("100Gå¿…è¦ï¼");
    return;
  }

  gold -= 100;
  let roll = Math.random()*100;

  if(roll < 5){
    weaponName = "ğŸŒˆ SSR ç¥å‰£ã‚¨ã‚¯ã‚¹ã‚«ãƒªãƒãƒ¼";
    weaponPower = 50;
    alert("SSRã‚²ãƒƒãƒˆï¼ï¼");
  } else if(roll < 25){
    weaponName = "âœ¨ SR ãƒ‰ãƒ©ã‚´ãƒ³ãƒ–ãƒ¬ãƒ¼ãƒ‰";
    weaponPower = 25;
    alert("SRã‚²ãƒƒãƒˆï¼");
  } else {
    weaponName = "ğŸ”¹ R ã‚¢ã‚¤ã‚¢ãƒ³ã‚½ãƒ¼ãƒ‰";
    weaponPower = 10;
    alert("Rã‚²ãƒƒãƒˆ");
  }

  updateUI();
}

setInterval(autoAttack, 1000);
updateUI();
</script>

</body>
</html>
